#mechanics
#tick -- passes time on status effects, carry them out

player_stats = {"max_health":20,"health":20,"attack":10,"max_attack":10,"armour":2,"status_effects":{"poision_duration":0,"weaken_duration":5,"weaken_state":False}}
def tick(player_stats):
  global scale
  if player_stats["status_effects"]["poision_duration"] > 0:
    player_stats["status_effects"]["poision_duration"] -= 1
    player_stats["health"] -= 1
    print(f"""You have took 1 damage as poision! {player_stats["status_effects"]["poision_duration"]} turn(s) of poision left """)

  weaken_attack = round(scale)
  if weaken_attack > player_stats["max_attack"] //2:
    weaken_attack = player_stats["max_attack"] // 2
  if player_stats["status_effects"]["weaken_duration"] > 0:
    player_stats["status_effects"]["weaken_duration"] -= 1
    if player_stats["status_effects"]["weaken_state"] == False:
      player_stats["attack"] -= weaken_attack
      player_stats["status_effects"]["weaken_state"] = True
  if player_stats["status_effects"]["weaken_duration"] == 0:
    player_stats["status_effects"]["weaken_state"] = False
    player_stats["attack"] = player_stats["max_attack"]
  if player_stats["status_effects"]["weaken_duration"] > 0:
    print(f"""You have been weakened and now deal {weaken_attack} less damage! {player_stats["status_effects"]["weaken_duration"]} turn(s) of being weakened left """)
for i in range(1):
  tick(player_stats)
print(player_stats["attack"])
